<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <title>測試</title>
  <div class=random_pic>
    <script>
        a = 3
        var slump = Math.random();
        var talet = Math.round(slump * (a-1))+1;
        function create() {
        this.src = ''
        this.border = ''
        this.alt = ''
        
        }
        
        b = new Array()
        for(var i=1; i<=a; i++) { b[i] = new create() }
        
        
        b[1].src = "https://i.imgur.com/HZiBU42.jpg"
        b[1].border = "0"
        b[1].alt = "圖片一"
        
        
        b[2].src = "https://i.imgur.com/IHbd34e.jpg"
        b[2].border = "0"
        b[2].alt = "圖片二"
        
        
        b[3].src = "https://i.imgur.com/BQo4R3v.jpg"
        b[3].border = "0"
        b[3].alt = "圖片三"
        
        var visa = "";
        
        visa += '<img src='+b[talet].src+' border="0"'+' alt='+b[talet].alt+' class="img-fluid">';
        
        </script>
        <script>
        <!-- Hide this script from old browsers --
        document.write(visa)
        // -->
    </script>
    <style>
        .random_pic{display:flex;flex-wrap:wrap;justify-content:center;}
        </style>
    </div>
</head>
<body>
<div id="fullscreen-container" style="width: 100%; height: 400px;">
  <iframe id="video" width="100%" height="100%" src="https://www.youtube.com/embed/h--zcf8Fux4" frameborder="0" allowfullscreen="true"></iframe>
</div>
<script src="static/vendor/youtube.external.subtitle/youtube.external.subtitle.js"></script>
<script src="static/vendor/subtitles-parser/subtitles.parser.js"></script>
<button id="fullscreen-btn">Fullscreen</button>
<script>
  var loadSRT = function(url, callback) {
    var httpRequest = new XMLHttpRequest();

    httpRequest.onreadystatechange = function() {
      if (httpRequest.readyState === XMLHttpRequest.DONE) {
        var subtitles = parser.fromSrt(httpRequest.responseText, true);

        for (var i in subtitles) {
          subtitles[i] = {
            start : subtitles[i].startTime / 1000,
            end   : subtitles[i].endTime / 1000,
            text  : subtitles[i].text
          };
        }

        callback(subtitles);
      }
    };

    httpRequest.open('GET', url, true);
    httpRequest.send(null);
  };

  loadSRT('static/srt/idol_house.srt', function(subtitles) {
    var youtubeExternalSubtitle = new YoutubeExternalSubtitle.Subtitle(document.getElementById('video'), subtitles);
  });
  document.getElementById('fullscreen-btn').addEventListener('click', function(e) {
    var elem = document.getElementById('fullscreen-container');

    var openFullscreen = function() {
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.mozRequestFullScreen) { /* Firefox */
        elem.mozRequestFullScreen();
      } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) { /* IE/Edge */
        elem.msRequestFullscreen();
      }
    };

    openFullscreen();
  });  
</script>
</div>

</body>
</html>
